import numpy as np

TAG_FAMILY = "tag16h5"
MARGIN_THRESHOLD = 41
PIXEL_MARGIN = 7

SERVER = "10.6.39.2"

CAMERA_CONSTANTS = {
    1: {
        "matrix":np.array([
        [1097.3387663520302, 0.0, 614.1053531279227],
        [0.0, 1090.798847106442, 429.49732257606695],
        [0.0, 0.0, 1.0]
        ]),
        "distortion":np.array([
            [
            0.11689586201295843,
            -0.5199784733199033,
            -0.0004565757059130622,
            -0.008706649747024026,
            1.0476502704411934
            ]
        ]),
        "yc": 0.04445, #Y coordinate to center of robot. (meters I believe)
        "xc": -0.2667, #X coordinate to center of robot. (meters I believe)
        "thetar": 57 # Rotation to center of robot.
    }
}

##apriltag positions. counter-clockwise (lb, rb, rt, lt). 4 corner coordinates (xyz)
ID_POS = {
    1: np.array([
        [15.14725452, 0.3409222487, 51.08190172],
        [15.01168948, 0.3409222487, 51.08190172],
        [15.01168948, 0.3409222487, 55.67809828],
        [15.14725452, 0.1508217513, 55.67809828]
    ]),
    2: np.array([
        [16.25291652, 0.9787162487, 51.08190172],
        [16.11735148, 0.9787162487, 51.08190172],
        [16.11735148, 0.9787162487, 55.67809828],
        [16.25291652, 0.7886157513, 55.67809828]
    ]),
    3: np.array([
        [16.48581272, 4.912851741, 54.83190172],
        [16.67287128, 4.912851741, 54.83190172],
        [16.67287128, 4.912851741, 59.42809828],
        [16.48581272, 5.052584259, 59.42809828]
    ]),
    4: np.array([
        [16.48581272, 5.478001741, 54.83190172],
        [16.67287128, 5.478001741, 54.83190172],
        [16.67287128, 5.478001741, 59.42809828],
        [16.48581272, 5.617734259, 59.42809828]
    ]),
    5: np.array([
        [14.6802058, 8.319120089, 51.08190172],
        [14.7213102, 8.319120089, 51.08190172],
        [14.7213102, 8.319120089, 55.67809828],
        [14.6802058, 8.089279911, 55.67809828]
    ]),
    6: np.array([
        [1.820947799, 8.319120089, 51.08190172],
        [1.862052201, 8.319120089, 51.08190172],
        [1.862052201, 8.319120089, 55.67809828],
        [1.820947799, 8.089279911, 55.67809828]
    ]),
    7: np.array([
        [-0.0381, 5.664611393, 54.83190172],
        [-0.0381, 5.664611393, 54.83190172],
        [-0.0381, 5.664611393, 59.42809828],
        [-0.0381, 5.431124607, 59.42809828]
    ]),
    8: np.array([
        [-0.0381, 5.099461393, 54.83190172],
        [-0.0381, 5.099461393, 54.83190172],
        [-0.0381, 5.099461393, 59.42809828],
        [-0.0381, 4.865974607, 59.42809828]
    ]),
    9: np.array([
        [0.320523374, 0.7724780775, 51.08190172],
        [0.391692626, 0.7724780775, 51.08190172],
        [0.391692626, 0.7724780775, 55.67809828],
        [0.320523374, 0.9948539225, 55.67809828]
    ]),
    10: np.array([
        [1.425931374, 0.1346840775, 51.08190172],
        [1.497100626, 0.1346840775, 51.08190172],
        [1.497100626, 0.1346840775, 55.67809828],
        [1.425931374, 0.3570599225, 55.67809828]
    ]),
    11: np.array([
        [11.78801111, 3.710646366, 49.70190172],
        [12.02144089, 3.710646366, 49.70190172],
        [12.02144089, 3.710646366, 54.29809828],
        [11.78801111, 3.715805634, 54.29809828]
    ]),
    12: np.array([
        [11.86914137, 4.387152077, 49.70190172],
        [11.94031063, 4.387152077, 49.70190172],
        [11.94031063, 4.387152077, 54.29809828],
        [11.86914137, 4.609527923, 54.29809828]
    ]),
    13: np.array([
        [11.12666672, 4.035281741, 49.70190172],
        [11.31372528, 4.035281741, 49.70190172],
        [11.31372528, 4.035281741, 54.29809828],
        [11.12666672, 4.175014259, 54.29809828]
    ]),
    14: np.array([
        [5.320792, 4.221891393, 49.70190172],
        [5.320792, 4.221891393, 49.70190172],
        [5.320792, 4.221891393, 54.29809828],
        [5.320792, 3.988404607, 54.29809828]
    ]),
    15: np.array([
        [4.709124519, 4.593390249, 49.70190172],
        [4.573559481, 4.593390249, 49.70190172],
        [4.573559481, 4.593390249, 54.29809828],
        [4.709124519, 4.403289751, 54.29809828]
    ]),
    16: np.array([
        [4.751716475, 3.751258815, 49.70190172],
        [4.530967525, 3.751258815, 49.70190172],
        [4.530967525, 3.751258815, 54.29809828],
        [4.751716475, 3.675193185, 54.29809828]
    ])
}