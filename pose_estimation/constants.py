import numpy as np

TAG_FAMILY = "tag36h11"
MARGIN_THRESHOLD = 41
PIXEL_MARGIN = 7

SERVER = "10.6.39.2"

CAMERA_CONSTANTS = {
    0: {
        "matrix":np.array([
        [1062.4294070176832, 0.0, 659.24877589952052],
        [0.0, 1062.4294070176832, 369.33219087336823],
        [0.0, 0.0, 1.0]
        ]),
        "distortion":np.array([
            [
            .055656123864839833,
            0,
            0,
            0,
            -.11025598404280015
            ]
        ]),
        "yc": 0, #Y coordinate to center of robot. (meters I believe)
        "xc": 0, #X coordinate to center of robot. (meters I believe)
        "thetar": 0 # Rotation to center of robot.
    },
    2: {
        "matrix":np.array([
        [1056.7997734244436, 0.0, 630.87407868060438],
        [0.0, 1056.7997734244436, 421.30564581242407],
        [0.0, 0.0, 1.0]
        ]),
        "distortion":np.array([
            [
            0.0071127134351176777,
            -0.12054203331230241,
            0,
            0,
            0.0071234992522144713
            ]
        ]),
        "yc": 0, #Y coordinate to center of robot. (meters I believe)
        "xc": 0, #X coordinate to center of robot. (meters I believe)
        "thetar": 0 # Rotation to center of robot.
    }
}

##apriltag positions. counter-clockwise (lb, rb, rt, lt). 4 corner coordinates (xyz)
ID_POS = {
    1: np.array([
        [15.12740145, 0.1786613609, 1.273302],
        [15.03154255, 0.3130826391, 1.273302],
        [15.03154255, 0.3130826391, 1.438402],
        [15.12740145, 0.1786613609, 1.438402]
    ]),
    2: np.array([
        [16.23306345, 0.8164553609, 1.273302],
        [16.13720455, 0.9508766391, 1.273302],
        [16.13720455, 0.9508766391, 1.438402],
        [16.23306345, 0.8164553609, 1.438402]
    ]),
    3: np.array([
        [16.51320685, 5.032120879, 1.368552],
        [16.64547715, 4.933315121, 1.368552],
        [16.64547715, 4.933315121, 1.533652],
        [16.51320685, 5.032120879, 1.533652]
    ]),
    4: np.array([
        [16.51320685, 5.597270879, 1.368552],
        [16.64547715, 5.498465121, 1.368552],
        [16.64547715, 5.498465121, 1.533652],
        [16.51320685, 5.597270879, 1.533652]
    ]),
    5: np.array([
        [14.68622541, 8.12293927, 1.273302],
        [14.71529059, 8.28546073, 1.273302],
        [14.71529059, 8.28546073, 1.438402],
        [14.68622541, 8.12293927, 1.438402]
    ]),
    6: np.array([
        [1.826967407, 8.12293927, 1.273302],
        [1.856032593, 8.28546073, 1.273302],
        [1.856032593, 8.28546073, 1.438402],
        [1.826967407, 8.12293927, 1.438402]
    ]),
    7: np.array([
        [-0.0381, 5.465318, 1.368552],
        [-0.0381, 5.630418, 1.368552],
        [-0.0381, 5.630418, 1.533652],
        [-0.0381, 5.465318, 1.533652]
    ]),
    8: np.array([
        [-0.0381, 4.900168, 1.368552],
        [-0.0381, 5.065268, 1.368552],
        [-0.0381, 5.065268, 1.533652],
        [-0.0381, 4.900168, 1.533652]
    ]),
    9: np.array([
        [0.3309458832, 0.9622876915, 1.273302],
        [0.3812701168, 0.8050443085, 1.273302],
        [0.3812701168, 0.8050443085, 1.438402],
        [0.3309458832, 0.9622876915, 1.438402]
    ]),
    10: np.array([
        [1.436353883, 0.3244936915, 1.273302],
        [1.486678117, 0.1672503085, 1.273302],
        [1.486678117, 0.1672503085, 1.438402],
        [1.436353883, 0.3244936915, 1.438402]
    ]),
    11: np.array([
        [11.82219616, 3.715050076, 1.23825],
        [11.98725584, 3.711401924, 1.23825],
        [11.98725584, 3.711401924, 1.40335],
        [11.82219616, 3.715050076, 1.40335]
    ]),
    12: np.array([
        [11.87956388, 4.576961692, 1.23825],
        [11.92988812, 4.419718308, 1.23825],
        [11.92988812, 4.419718308, 1.40335],
        [11.87956388, 4.576961692, 1.40335]
    ]),
    13: np.array([
        [11.15406085, 4.154550879, 1.23825],
        [11.28633115, 4.055745121, 1.23825],
        [11.28633115, 4.055745121, 1.40335],
        [11.15406085, 4.154550879, 1.40335]
    ]),
    14: np.array([
        [5.320792, 4.022598, 1.23825],
        [5.320792, 4.187698, 1.23825],
        [5.320792, 4.187698, 1.40335],
        [5.320792, 4.022598, 1.40335]
    ]),
    15: np.array([
        [4.689271453, 4.431129361, 1.23825],
        [4.593412547, 4.565550639, 1.23825],
        [4.593412547, 4.565550639, 1.40335],
        [5.320792, 4.022598, 1.40335]
    ]),
    16: np.array([
        [4.719388498, 3.686332753, 1.23825],
        [4.563295502, 3.740119247, 1.23825],
        [4.563295502, 3.740119247, 1.40335],
        [4.719388498, 3.686332753, 1.40335]
    ])
}